import{_ as w,u as _,r as b,c as k,a as e,w as x,b as i,v as u,d,e as a,f as p,g as m,h as U,o as y,U as L,E as l}from"./index-DZ4oHnvq.js";const V={class:"login-container"},B={class:"login-form"},E={class:"input-group"},M={class:"input-group"},N={class:"register-link"},R={__name:"Login",setup(S){const g=U(),v=_(),o=b({username:"",password:""}),c=async()=>{try{const s=(await L.getAllUsers()).find(r=>r.username===o.value.username&&r.password===o.value.password);s?(v.login(s),console.log("登录的用户是",s),l.success("登录成功"),g.push("/dashboard")):l.error("用户名或密码错误")}catch(t){console.error("登录失败:",t),l.error("登录失败，请稍后重试")}};return(t,s)=>{const r=m("router-link"),f=m("RouterLink");return y(),k("div",V,[e("div",B,[s[8]||(s[8]=e("h2",{class:"login-title"},"用户登录",-1)),e("form",{onSubmit:x(c,["prevent"])},[e("div",E,[e("span",null,[s[2]||(s[2]=e("label",{for:"username"},"用户名",-1)),i(e("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=n=>o.value.username=n),placeholder:"请输入用户名",required:""},null,512),[[u,o.value.username]])])]),e("div",M,[s[3]||(s[3]=e("label",{for:"password"},"密码",-1)),i(e("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=n=>o.value.password=n),placeholder:"请输入密码",required:""},null,512),[[u,o.value.password]])]),s[4]||(s[4]=e("button",{type:"submit",class:"login-btn"},"登录",-1))],32),e("div",N,[e("p",null,[s[6]||(s[6]=a("还没有账户？",-1)),d(r,{to:"/register"},{default:p(()=>[...s[5]||(s[5]=[a("立即注册",-1)])]),_:1})]),d(f,{to:"/"},{default:p(()=>[...s[7]||(s[7]=[a("前往游客浏览页面 ",-1),e("i",{class:"icon-arrow-right"},">",-1),e("i",{class:"icon-arrow-right"},">",-1)])]),_:1})])])])}}},A=w(R,[["__scopeId","data-v-d62f792d"]]);export{A as default};
//# sourceMappingURL=Login-BGVAEKJh.js.map
